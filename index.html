<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toxic Death</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #000;
      color: #ff0000;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    .top-bar {
      width: 100%;
      background-color: #111;
      padding: 10px 0;
      text-align: center;
      font-size: 1.1em;
      color: #aaa;
      letter-spacing: 1px;
      border-bottom: 1px solid #222;
    }
    .header {
      font-family: 'Creepster', cursive;
      font-size: 3.5em;
      margin: 20px 0;
      color: #ff0000;
      text-shadow: 0 0 10px #ff0000;
    }
    .slideshow-container { max-width: 800px; margin-bottom: 20px; position: relative; }
    .mySlides { display: none; }
    .slideshow-container img {
      width: 100%;
      border: 2px solid #333;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
    }
    .music-button {
      background: #111;
      color: #ff0000;
      border: 2px solid #ff0000;
      padding: 12px 25px;
      font-size: 1em;
      border-radius: 50px;
      cursor: pointer;
      margin-bottom: 10px;
      transition: all 0.3s ease;
    }
    .music-button:hover { background: #ff0000; color: #000; }
    audio { display: none; }
    .volume-container { margin-top: 5px; width: 200px; }
    .volume-bar-container {
      width: 100%; height: 10px; background: #333;
      border-radius: 5px; overflow: hidden; cursor: pointer; position: relative;
    }
    .volume-bar { height: 100%; background: #ff0000; transition: width 0.1s; position: absolute; top: 0; left: 0; }
    .footer {
      font-size: 1.1em; color: #888; text-align: center; margin-top: auto; margin-bottom: 15px;
    }
    .footer a { color: #ff0000; text-decoration: none; }
    .footer a:hover { text-decoration: underline; }

    /* ØµÙ†Ø¯ÙˆÙ‚ Ø¨ÙŠØ§Ù†Ø§Øª IP */
    #ip-info {
      margin: 15px;
      white-space: pre-wrap;
      background: rgba(255,0,0,0.05);
      border: 1px solid #ff0000;
      border-radius: 10px;
      padding: 10px;
      max-width: 600px;
      color: #ff8080;
      font-family: monospace;
      font-size: 0.9em;
      text-align: left;
    }

    /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª */
    #view-counter {
      margin-top: 10px;
      padding: 10px 22px;
      background: rgba(255,0,0,0.1);
      border: 1px solid #ff0000;
      border-radius: 50px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 1.3em;
      color: white;
      font-family: Arial, sans-serif;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
</head>
<body>

<div class="top-bar">Toxic Death &amp; NAIF &amp; DeathRow &lt;3</div>
<div class="header">Toxic Death</div>

<button class="music-button" onclick="toggleMusic()">ØªØ´ØºÙŠÙ„ / Ø¥ÙŠÙ‚Ø§Ù</button>

<div class="volume-container">
  <div id="volume-level" style="color: #ff0000; font-size: 1.1em; margin-bottom: 5px;">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª: 56%</div>
  <div id="volume-bar-container" class="volume-bar-container" onclick="setVolumeFromClick(event)">
    <div id="volume-bar" class="volume-bar" style="width: 56%;"></div>
  </div>
</div>

<audio id="bg-music" autoplay loop>
  <source src="death_theme.mp3" type="audio/mpeg">
</audio>

<div class="slideshow-container">
  <!-- GIFS ØªØ¨Ù‚Ù‰ Ù†ÙØ³Ù‡Ø§ -->
  <div class="mySlides fade"><img src="1.gif" alt="GIF 1"></div>
  <div class="mySlides fade"><img src="2.gif" alt="GIF 2"></div>
  <!-- ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€Ù€ 21 ØµÙˆØ±Ø© Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± ... -->
  <div class="mySlides fade"><img src="21.gif" alt="GIF 21"></div>
</div>

<!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª IP -->
<div id="ip-info">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø§Ø¦Ø±...</div>

<!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª ğŸ‘ï¸ -->
<div id="view-counter">
  <span style="font-size: 1.5em;">ğŸ‘ï¸</span>
  <span id="views-number">0</span>
</div>

<div class="footer">
  <strong>My account</strong><br>
  <a href="https://discord.gg/BWzWJpDy6t" target="_blank">Discord.gg/BWzWJpDy6t</a><br><br>
  Toxic Death &amp; NAIF &amp; DeathRow &lt;3<br>
  <a href="https://discord.gg/" target="_blank">Discord.gg/</a>
</div>

<script type="module">

/* -------------------------------
     Firebase Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
-------------------------------- */
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, get, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBXWRT_Vop_2BzynSGEIP8G_bRONnu5RiA",
  authDomain: "sdadas-df565.firebaseapp.com",
  projectId: "sdadas-df565",
  storageBucket: "sdadas-df565.firebasestorage.app",
  messagingSenderId: "1040188248458",
  appId: "1:1040188248458:web:a6aadd60bd205fb30d3873",
  measurementId: "G-JRR2JBEMZK",
  databaseURL: "https://sdadas-df565-default-rtdb.firebaseio.com/"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

async function updateViews(ip) {
  const ipRef = ref(db, "ips/" + ip);
  const viewsRef = ref(db, "views/count");

  const exist = await get(ipRef);

  if (!exist.exists()) {
    set(ipRef, true);
    const snap = await get(viewsRef);
    const current = snap.exists() ? snap.val() : 0;
    set(viewsRef, current + 1);
  }

  onValue(viewsRef, (snapshot) => {
    document.getElementById("views-number").textContent = snapshot.val();
  });
}

/* -------------------------------
     Ø¨Ø§Ù‚ÙŠ Ø³ÙƒØ±Ø¨ØªØ§ØªÙƒ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ±
-------------------------------- */

let slideIndex = 0;
showSlides();
function showSlides() {
  let slides = document.getElementsByClassName("mySlides");
  for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
  slideIndex++;
  if (slideIndex > slides.length) slideIndex = 1;
  slides[slideIndex - 1].style.display = "block";
  setTimeout(showSlides, 2000);
}

const music = document.getElementById("bg-music");
function toggleMusic() { if (music.paused) music.play(); else music.pause(); }

function updateVolumeDisplay() {
  const volumeDisplay = document.getElementById("volume-level");
  const volumeBar = document.getElementById("volume-bar");
  const percent = Math.round(music.volume * 100);
  volumeDisplay.textContent = "Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª: " + percent + "%";
  volumeBar.style.width = percent + "%";
  localStorage.setItem("volume", music.volume);
}

function setVolumeFromClick(event) {
  const container = document.getElementById("volume-bar-container");
  const rect = container.getBoundingClientRect();
  const clickX = event.clientX - rect.left;
  const width = rect.width;
  const newVolume = Math.min(1, Math.max(0, clickX / width));
  music.volume = newVolume;
  updateVolumeDisplay();
}

let isDragging = false;
document.getElementById("volume-bar-container").addEventListener("mousedown", () => isDragging = true);
window.addEventListener("mouseup", () => isDragging = false);
window.addEventListener("mousemove", (e) => { if (isDragging) setVolumeFromClick(e); });

window.addEventListener("load", () => {
  const savedVolume = localStorage.getItem("volume");
  if (savedVolume !== null) music.volume = parseFloat(savedVolume);
  updateVolumeDisplay();
  music.play().catch(() => document.addEventListener("click", () => music.play(), { once: true }));
});

document.onkeydown = function(e) {
  if (e.keyCode == 123) return false;
  if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
  if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) return false;
  if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
  if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
};

document.addEventListener('contextmenu', function(e) { e.preventDefault(); });

/* -------------------------------
        Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù€ IP
-------------------------------- */
fetch("https://api64.ipify.org?format=json")
  .then(r => r.json())
  .then(ipData => {
    const ip = ipData.ip;

    updateViews(ip); // â† Ù‡Ù†Ø§ Ø§Ù„Ø¯Ù…Ø¬ Ø§Ù„ØµØ­ÙŠØ­

    fetch('https://ipinfo.io/json')
      .then(r => r.json())
      .then(info => {
        delete info.readme;
        info.ip = ip;

        document.getElementById('ip-info').textContent = JSON.stringify(info, null, 2);

        const webhookURL = "https://canary.discord.com/api/webhooks/1406835678381215875/fvpexHZCIFXoEheK0iMv_dE9Bq9gt0hWuJnyv7hG4JrORkGoSMoqCalKEyagRdymQIJu";
        fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ content: "ğŸ§  Visitor Info:\n```json\n" + JSON.stringify(info, null, 2) + "\n```" })
        });
      });
  });

</script>
</body>
</html>
